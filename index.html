<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>AMPET</title>
  <script type="text/javascript" src="ampet.js"></script>
  <link rel="stylesheet" href="style/milligram.min.css">
</head>

<body>
    <audio id="bell" src="sounds/bell.mp3" preload="auto"></audio>
    <audio id="annoying" src="sounds/annoying.mp3" preload="auto"></audio>
    <audio id="singlebell" src="sounds/singlebell.mp3" preload="auto"></audio>

    <div style="width: 90%; margin: 0 auto">
        <h1>AVL Meeting Productivity Enhancement Tool</h1>
        <br/>
        <div class="container">
            <div id="ampet"></div>
            <div class="row">
                <ul>
                    <li>
                        Each participant of a discussion should be able to apply for a time slot.
                    </li>
                    <li>
                        Each participant of a discussion has a complete control of his own time slot.
                    </li>
                    <li>
                        Time slot holder can ask for a dialogue with another participant.
                    </li>
                    <li>
                        Time slot holder can ask a question to the discussion group.
                    </li>
                    <li>
                        Time slot holder can give a statement without interruptions.
                    </li>
                    <li>
                        Participants not holding a time slot should not enter the discussion unless asked to do so by the time slot holder.
                    </li>
                </ul>
            </div>
        </div>
    </div>
</body>

<script type="text/javascript">
    var node = document.getElementById('ampet');
    var app = Elm.AMPET.embed(node);

    app.ports.playAudio.subscribe(function playAudio(audioFile) {
        var audio = document.getElementById(audioFile)
        audio.play();
    });

    app.ports.killSounds.subscribe(function killSounds() {
        var sounds = document.getElementsByClassName("audio")

        Array.prototype.forEach.call(sounds, element => {
            element.volume = 0.0;
        });
    })
</script>

</html>
